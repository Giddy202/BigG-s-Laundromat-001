<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - BigG's Laundromat</title>
    <meta name="description" content="Complete your laundry service order with our secure checkout process.">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.ico">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&family=Open+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/animations.css">
    <link rel="stylesheet" href="assets/css/checkout.css">
    <link rel="stylesheet" href="assets/css/responsive.css">
</head>
<body>




    <!-- Main Checkout Content -->
    <section class="checkout-content">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <!-- Cart Overview Toggle Button -->
                    <div class="checkout-section" id="cartSection">
                        <div class="section-header">
                            <h2><i class="fas fa-shopping-cart"></i> Your Order</h2>
                            <p>Review your selected items and total</p>
                        </div>
                        <div class="form-container">
                            <div class="cart-toggle-wrapper">
                                <button class="cart-toggle-btn" id="cartToggleBtn">
                                    <div class="cart-toggle-content">
                                        <div class="cart-toggle-left">
                                            <i class="fas fa-shopping-cart"></i>
                                            <span class="cart-toggle-text">Your Order</span>
                                            <span class="cart-item-count" id="cartItemCount">0</span>
                                        </div>
                                        <div class="cart-toggle-right">
                                            <span class="cart-total-amount" id="cartTotal">KES 0</span>
                                            <i class="fas fa-chevron-down toggle-icon" id="toggleIcon"></i>
                                        </div>
                                    </div>
                                </button>
                                <div class="cart-details" id="cartDetails">
                                    <div class="cart-items" id="cartItems">
                                        <!-- Cart items will be populated by JavaScript -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Customer Information Section -->
                    <div class="checkout-section" id="customerInfo">
                        <div class="section-header">
                            <h2><i class="fas fa-user"></i> Customer Information</h2>
                            <p>Tell us about yourself</p>
                        </div>
                        <div class="form-container">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="fullName">Full Name *</label>
                                        <div class="input-wrapper">
                                            <i class="fas fa-user input-icon"></i>
                                            <input type="text" id="fullName" name="fullName" required>
                                            <div class="validation-icon"></div>
                                        </div>
                                        <div class="error-message"></div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="phone">Phone Number *</label>
                                        <div class="input-wrapper">
                                            <i class="fas fa-phone input-icon"></i>
                                            <input type="tel" id="phone" name="phone" required>
                                            <div class="validation-icon"></div>
                                        </div>
                                        <div class="error-message"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="email">Email Address</label>
                                        <div class="input-wrapper">
                                            <i class="fas fa-envelope input-icon"></i>
                                            <input type="email" id="email" name="email">
                                            <div class="validation-icon"></div>
                                        </div>
                                        <div class="error-message"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                </div>

                    <!-- Location & Address Section -->
                    <div class="checkout-section" id="locationInfo">
                        <div class="section-header">
                            <h2><i class="fas fa-map-marker-alt"></i> Pickup & Delivery Location</h2>
                            <p>Where should we pick up and deliver your items?</p>
                        </div>
                        <div class="form-container">
                            <div class="location-picker-container">
                                <button class="location-picker-btn" id="locationPickerBtn">
                                    <div class="location-picker-content">
                                        <div class="location-icon">
                                            <i class="fas fa-map-marker-alt"></i>
                                        </div>
                                        <div class="location-details">
                                            <div class="location-text" id="locationText">Click to set your location</div>
                                            <div class="location-address" id="locationAddress">Auto-detect or enter manually</div>
                                        </div>
                                        <div class="location-edit">
                                            <i class="fas fa-edit"></i>
                                        </div>
                                    </div>
            </button>
            
                                <!-- Hidden form fields for location data -->
                                <input type="hidden" id="latitude" name="latitude">
                                <input type="hidden" id="longitude" name="longitude">
                                <input type="hidden" id="address" name="address">
                            </div>
                            
                            <!-- Location Details Form (shown when location is set) -->
                            <div class="location-details-form" id="locationDetailsForm" style="display: none;">
                                <div class="row mt-3">
                                    <div class="col-md-8">
                                        <div class="form-group">
                                            <label for="building">Building/Estate *</label>
                                            <div class="input-wrapper">
                                                <i class="fas fa-building input-icon"></i>
                                                <input type="text" id="building" name="building" required>
                                                <div class="validation-icon"></div>
                                            </div>
                                            <div class="error-message"></div>
            </div>
        </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label for="houseNumber">House Number</label>
                                            <div class="input-wrapper">
                                                <i class="fas fa-home input-icon"></i>
                                                <input type="text" id="houseNumber" name="houseNumber">
                                                <div class="validation-icon"></div>
                                            </div>
                                            <div class="error-message"></div>
                </div>
            </div>
        </div>
            <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label for="specialInstructions">Special Instructions</label>
                                            <div class="input-wrapper">
                                                <i class="fas fa-comment input-icon"></i>
                                                <textarea id="specialInstructions" name="specialInstructions" rows="3" placeholder="Any special instructions for pickup or delivery?"></textarea>
                                            </div>
                                        </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

                    <!-- Pickup & Delivery Scheduling Section -->
                    <div class="checkout-section" id="schedulingInfo">
                        <div class="section-header">
                            <h2><i class="fas fa-calendar-alt"></i> Pickup & Delivery Schedule</h2>
                            <p>When would you like us to pick up and deliver your items?</p>
                        </div>
                        <div class="form-container">

                            <!-- Unified Time Selection Section -->
                            <div class="scheduling-time-section">
                                <div class="time-selection-toggle">
                                    <button class="time-toggle-btn" id="timeToggleBtn">
                                        <div class="time-toggle-content">
                                            <div class="time-toggle-icon">
                                                <i class="fas fa-calendar-alt"></i>
                                            </div>
                                            <div class="time-toggle-details">
                                                <div class="time-toggle-text" id="timeToggleText">Select Pickup & Delivery Date & Time</div>
                                                <div class="time-toggle-subtext" id="timeToggleSubtext">Click to choose your preferred date and time slots</div>
                                            </div>
                                            <div class="time-toggle-arrow">
                                                <i class="fas fa-chevron-down"></i>
                                            </div>
                                        </div>
                                    </button>
                                </div>

                                <!-- Compact Calendar Section -->
                                <div class="compact-calendar-panel" id="compactCalendarPanel" style="display: none;">
                                    <div class="compact-calendar-header">
                                        <h5>Select Dates</h5>
                                        <div class="compact-calendar-nav">
                                            <button class="compact-nav-btn" id="compactPrevMonth">
                                                <i class="fas fa-chevron-left"></i>
                                            </button>
                                            <span class="compact-month-year" id="compactMonthYear"></span>
                                            <button class="compact-nav-btn" id="compactNextMonth">
                                                <i class="fas fa-chevron-right"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="compact-calendar-grid" id="compactCalendar">
                                        <!-- Calendar will be generated by JavaScript -->
                                    </div>
                                    <div class="compact-calendar-legend">
                                        <div class="compact-legend-item">
                                            <span class="compact-legend-color pickup"></span>
                                            <span>Pickup</span>
                                        </div>
                                        <div class="compact-legend-item">
                                            <span class="compact-legend-color delivery"></span>
                                            <span>Delivery</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Time Selection Panel -->
                                <div class="time-selection-panel" id="timeSelectionPanel" style="display: none;">
                                    <div class="time-panel-header">
                                        <h4>Select Time Slots</h4>
                                        <div class="time-search-container">
                                            <i class="fas fa-search"></i>
                                            <input type="text" id="timeSearch" placeholder="Search time slots...">
                                        </div>
                                    </div>
                                    
                                    <div class="time-panel-body">
                                        <div class="time-category">
                                            <h5><i class="fas fa-arrow-up"></i> Pickup Time *</h5>
                                            <div class="time-slots-grid" id="pickupTimeSlots">
                                                <div class="time-slot" data-time="08:00" data-type="pickup">
                                                    <div class="time-slot-icon">
                                                        <i class="fas fa-sun"></i>
                                                    </div>
                                                    <div class="time-slot-details">
                                                        <span class="time-slot-time">8:00 AM</span>
                                                        <span class="time-slot-label">Morning</span>
                                                    </div>
                                                </div>
                                                <div class="time-slot" data-time="10:00" data-type="pickup">
                                                    <div class="time-slot-icon">
                                                        <i class="fas fa-sun"></i>
                                                    </div>
                                                    <div class="time-slot-details">
                                                        <span class="time-slot-time">10:00 AM</span>
                                                        <span class="time-slot-label">Morning</span>
                                                    </div>
                                                </div>
                                                <div class="time-slot" data-time="12:00" data-type="pickup">
                                                    <div class="time-slot-icon">
                                                        <i class="fas fa-sun"></i>
                                                    </div>
                                                    <div class="time-slot-details">
                                                        <span class="time-slot-time">12:00 PM</span>
                                                        <span class="time-slot-label">Afternoon</span>
                                                    </div>
                                                </div>
                                                <div class="time-slot" data-time="14:00" data-type="pickup">
                                                    <div class="time-slot-icon">
                                                        <i class="fas fa-sun"></i>
                                                    </div>
                                                    <div class="time-slot-details">
                                                        <span class="time-slot-time">2:00 PM</span>
                                                        <span class="time-slot-label">Afternoon</span>
                                                    </div>
                                                </div>
                                                <div class="time-slot" data-time="16:00" data-type="pickup">
                                                    <div class="time-slot-icon">
                                                        <i class="fas fa-moon"></i>
                                                    </div>
                                                    <div class="time-slot-details">
                                                        <span class="time-slot-time">4:00 PM</span>
                                                        <span class="time-slot-label">Evening</span>
                                                    </div>
                                                </div>
                                                <div class="time-slot" data-time="18:00" data-type="pickup">
                                                    <div class="time-slot-icon">
                                                        <i class="fas fa-moon"></i>
                                                    </div>
                                                    <div class="time-slot-details">
                                                        <span class="time-slot-time">6:00 PM</span>
                                                        <span class="time-slot-label">Evening</span>
                        </div>
                        </div>
                    </div>
                </div>

                                        <div class="time-category">
                                            <h5><i class="fas fa-arrow-down"></i> Delivery Time *</h5>
                                            <div class="time-slots-grid" id="deliveryTimeSlots">
                                                <div class="time-slot" data-time="08:00" data-type="delivery">
                                                    <div class="time-slot-icon">
                                                        <i class="fas fa-sun"></i>
                                                    </div>
                                                    <div class="time-slot-details">
                                                        <span class="time-slot-time">8:00 AM</span>
                                                        <span class="time-slot-label">Morning</span>
                                                    </div>
                                                </div>
                                                <div class="time-slot" data-time="10:00" data-type="delivery">
                                                    <div class="time-slot-icon">
                                                        <i class="fas fa-sun"></i>
                                                    </div>
                                                    <div class="time-slot-details">
                                                        <span class="time-slot-time">10:00 AM</span>
                                                        <span class="time-slot-label">Morning</span>
                                                    </div>
                                                </div>
                                                <div class="time-slot" data-time="12:00" data-type="delivery">
                                                    <div class="time-slot-icon">
                                                        <i class="fas fa-sun"></i>
                                                    </div>
                                                    <div class="time-slot-details">
                                                        <span class="time-slot-time">12:00 PM</span>
                                                        <span class="time-slot-label">Afternoon</span>
                                                    </div>
                                                </div>
                                                <div class="time-slot" data-time="14:00" data-type="delivery">
                                                    <div class="time-slot-icon">
                                                        <i class="fas fa-sun"></i>
                                                    </div>
                                                    <div class="time-slot-details">
                                                        <span class="time-slot-time">2:00 PM</span>
                                                        <span class="time-slot-label">Afternoon</span>
                    </div>
                </div>
                                                <div class="time-slot" data-time="16:00" data-type="delivery">
                                                    <div class="time-slot-icon">
                                                        <i class="fas fa-moon"></i>
                                                    </div>
                                                    <div class="time-slot-details">
                                                        <span class="time-slot-time">4:00 PM</span>
                                                        <span class="time-slot-label">Evening</span>
                    </div>
                </div>
                                                <div class="time-slot" data-time="18:00" data-type="delivery">
                                                    <div class="time-slot-icon">
                                                        <i class="fas fa-moon"></i>
                                                    </div>
                                                    <div class="time-slot-details">
                                                        <span class="time-slot-time">6:00 PM</span>
                                                        <span class="time-slot-label">Evening</span>
                                                    </div>
                            </div>
                            </div>
                            </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

                    <!-- Final Action Section -->
                    <div class="checkout-section" id="finalActionSection">
                        <div class="section-header">
                            <h2><i class="fas fa-check-circle"></i> Complete Your Order</h2>
                            <p>Review everything and place your order</p>
                        </div>
                        <div class="form-container">
                            <div class="action-buttons">
                                <button class="btn btn-primary btn-lg place-order-btn" id="placeOrder">
                                    <i class="fas fa-check-circle"></i> Place Order
                                    <div class="ripple-effect"></div>
                                </button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <!-- Confirmation Modal -->
    <div class="modal fade" id="confirmationModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content glassmorphism">
                <div class="modal-body text-center">
                    <div class="confirmation-animation">
                        <div class="confetti"></div>
                        <div class="bubbles">
                            <div class="bubble"></div>
                            <div class="bubble"></div>
                            <div class="bubble"></div>
                            <div class="bubble"></div>
                            <div class="bubble"></div>
                        </div>
                        <i class="fas fa-check-circle success-icon"></i>
                    </div>
                    <h2>Order Confirmed! 🎉</h2>
                    <p class="order-id">Order ID: <strong id="orderId">BG12345</strong></p>
                    <p>We'll send you a WhatsApp confirmation with tracking details.</p>
                    <div class="modal-actions">
                        <button class="btn btn-primary" data-bs-dismiss="modal">Continue Shopping</button>
                        <button class="btn btn-outline-primary" id="viewOrder">View Order Details</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>


    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/main.js?v=20241219"></script>
    <script src="assets/js/checkout.js?v=20241219"></script>
    <script src="assets/js/animations.js"></script>
    
    <!-- Google Maps API -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap"></script>
</body>
</html>
